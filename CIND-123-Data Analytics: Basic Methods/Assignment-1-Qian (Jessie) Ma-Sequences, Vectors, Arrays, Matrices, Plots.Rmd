---
title: 'CIND 123 - Data Analytics: Basic Methods'
author: Qian (Jessie) Ma
output:
  html_document: default
---
<center> <h1> Assignment 1 (10%) </h1> </center>
<center>  <h3> [Qian (Jessie) Ma] </h2> </center>
<center> <h3> [CIND 123 Section D40 & student number: 501274167] </h2> </center>

<style>
body {
    position: absolute;
    left: 0px;}
</style>
---
# Instructions 


This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. Review this website for more details on using R Markdown <http://rmarkdown.rstudio.com>.

Use RStudio for this assignment. Complete the assignment by inserting your  \texttt{R} code wherever you see the string "#INSERT YOUR ANSWER HERE".

When you click the **Knit** button, a document (PDF, Word, or HTML format) will be generated that includes both the assignment content as well as the output of any embedded R code chunks.

**NOTE**: YOU SHOULD NEVER HAVE `install.packages` IN YOUR CODE; OTHERWISE, THE `Knit` OPTION WILL GIVE AN ERROR. COMMENT OUT ALL PACKAGE INSTALLATIONS.

Submit **both**  the `rmd` and generated `output` files. Failing to submit both files will be subject to mark deduction. PDF or HTML is preferred. 

## Sample Question and Solution

Use `seq()` to create the vector $(3,5\ldots,29)$.

```{r}
seq(3, 30, 2)
seq(3, 29, 2)
```

## Question 1 (32 points)

## Q1a (8 points)
Create and print a vector `x` with all integers from 4 to 115 and a vector `y` containing multiples of 4 in the same range. Hint: use `seq()`function. Calculate the difference in lengths of the vectors `x` and `y`. 
Hint: use length()

```{r}
# Insert your answer here.
x<-c(4:115)
y<-c(seq(from=4,to=115,by=4))
diff<-length(x)-length(y)
```
```{r}
# Print x
x
```
```{r}
# Print y
y
```
```{r}
# Print the difference in lengths between x and y
diff
```

## Q1b (8 points)
Create a new vector, `y_square`, with the square of elements at indices 1, 3, 7, 12, 17, 20, 22, and 24 from the variable `y`. Hint: Use indexing rather than a `for` loop. Calculate the mean and median of the FIRST five values from `y_square`.
```{r}
# Insert your answer here.
indices_vector<-c(1,3,7,12,17,20,22,24)
y_square<-c(y[indices_vector]^2)
y_square
```
```{r}
# Print mean
mean(y_square[1:5])
```
```{r}
# Print median
median(y_square[1:5])
```

## Q1c (8 points)
For a given factor variable of `factorVar <- factor(c(1, 6, 5.4, 3.2))`, would it be correct to use the following commands to convert factor to number?  

`as.numeric(factorVar)`

If not, explain your answer and provide the correct one.

```{r}
# Insert your answer here.
# It would not be correct to use the command `as.numeric(factorVar)` to convert factor to number because if the factor is numeric, we need to first convert it to a character vector then to a numeric. If the factor is a character then we just need to convert it to numeric. The correct command would be `as.numeric(as.character(factorVar))`. Please see example below.
factorVar<-factor(c(1,6,5.4,3.2))
numeric_factorVar<-as.numeric(as.character(factorVar))
numeric_factorVar
```
```{r}
# View class (the class is numeric)
class(numeric_factorVar)
```

```{r}
# If we convert it directly to numeric from factor the following result is produced. As you can see the vector elements have changed, R assigned the numbers 1 4 3 2 to the categories of the factor.
failed_factorVar<-as.numeric(factorVar)
failed_factorVar
```
```{r}
# View class (although the class is numeric, the contents of the vector were not retained)
class(failed_factorVar)
```

## Q1d (8 points)
A comma-separated values file `dataset.csv` consists of missing values represented by Not A Number (`null`) and question mark (`?`). How can you read this type of files in R? 
NOTE: Please make sure you have saved the `dataset.csv` file at your current working directory.
```{r}
# Insert your answer here.
# In order to read a csv file that contains null values and question marks, I must set the na.strings option to c("null","?") to replace any nulls and ?s with the logical value NA as shown below.
dataset<-read.csv("dataset.csv",
                  header=T,
                  na.strings=c("null","?"))
dataset
```

# Question 2 (32 points)

## Q2a (8 points)
Compute: $$\sum_{n=5}^{20}\frac{(-1)^{n}}{(n!)^2}$$
Hint: Use `factorial(n)` to compute $n!$.
```{r}
# Insert your answer here.
n=5:20
sum((-1)^n/(factorial(n))^2)
```

## Q2b (8 points)
Compute: $$\prod_{n=1}^{5} \left( 4n + \frac{1}{2^n} \right)$$
NOTE: The symbol $\Pi$ represents multiplication.
```{r}
# Insert your answer here.
n=1:5
prod((4*n)+(1/2^n))
```

## Q2c (8 points)
Describe what the following R command does:
`c(0:5)[NA]`
```{r}
# Insert your answer here.
# NA is of type logical. The logical type has a property whereby it recycles vector elements. This R command can be interpreted as c(0:5)[c(NA,NA,NA,NA,NA,NA)] due to the logical indices being recycled. c(0:5) creates the vector 0 1 2 3 4 5. This subset operation returns the elements of the vector with the value of NA, and in this case there are none which is why NA appears for each of the 6 indices. Each NA returned corresponds to each element from the vector 0 to 5 during subsetting.
c(0:5)[NA]
```

## Q2d (8 points)
Describe the purpose of `is.vector()`, `is.character()`, `is.numeric()`, and `is.na()` functions? Please use `x <- c("a", "b", NA, 2)` to explain your description.
```{r}
# Insert your answer here.
# The purpose of the `is.vector()`, `is.character()`, `is.numeric()`, and `is.na()` functions is to serve as a test that returns a logical value, either TRUE or FALSE, indicating whether the argument passed to it satisfies what the function is testing for. 

# For instance `is.vector()` tests whether the object is a vector or not, returning TRUE if it is, FALSE if it is not. In the example below we see is.vector(x) returns TRUE indicating x is a vector.
x<-c("a", "b", NA, 2)
is.vector(x)
```
```{r}
# `is.character()` tests whether the object passed to it as an argument is of character type. x is a character as shown in the example below.
is.character(x)
```

```{r}
# `is.numeric()` tests whether the object is of numeric type. x is not numeric as shown in the example below.
is.numeric(x)
```

```{r}
# `is.na()` tests whether an object is an NA value. x is NA at the 3rd index only as shown below.
is.na(x)
```

# Question 3 (36 points)
The `airquality` dataset contains daily air quality measurements in New York from May to September 1973. The variables include Ozone level, Solar radiation, wind speed, temperature in Fahrenheit, month, and day. Please see the detailed description using `help("airquality")`.

Install the `airquality` data set on your computer using the command `install.packages("datasets")`. Then load the `datasets` package into your session.
```{r}
library(datasets)
```

## Q3a (4 points)
Display the first 10 rows of the `airquality` data set.
```{r}
# Insert your answer here.
head(airquality,10)
```

## Q3b (8 points)
Compute the average of the first four variables (Ozone, Solar.R, Wind and Temp) for the fifth month using the `sapply()` function.
Hint: You might need to consider removing the `NA` values; otherwise, the average will not be computed. 
```{r}
# Insert your answer here.
ds<-airquality
sapply((subset(ds,Month==5,select=1:4)),mean,na.rm=TRUE)
```

## Q3c (8 points)
Construct a boxplot for the all `Wind`  and `Temp` variables, then display the values of all the outliers which lie beyond the whiskers.
```{r}
# Insert your answer here.
# Combined boxplot
boxplot(ds[3:4],na.rm=TRUE,main="Boxplot of Wind Speed and Temperature in Fahrenheit",ylab="Wind Speed/Temperature in Fahrenheit",col="violet")
# Wind boxplot
boxplot(ds$Wind,na.rm=TRUE,main="Boxplot of Wind Speed",ylab="Wind Speed",col="lightgreen")
# Temperature boxplot
boxplot(ds$Temp,na.rm=TRUE,main="Boxplot of Temperature",ylab="Temperature in Fahrenheit",col="lightgreen")
```
```{r}
# Before computing outliers, check summary first
summary(ds[3:4])
```
```{r}
# Get IQR and lower and upper fences for Wind and Temp variables
IQR(ds$Wind)
IQR(ds$Temp)

wind_lowerfence=7.4-(1.5*4.1)
wind_lowerfence
wind_upperfence=11.5+(1.5*4.1)
wind_upperfence

temp_lowerfence=72-(1.5*13)
temp_lowerfence
temp_upperfence=85+(1.5*13)
temp_upperfence
```
```{r}
# Identify and display outliers for Wind variable
ds$Wind[which(ds$Wind<wind_lowerfence|ds$Wind>wind_upperfence)]
# Identify and display outliers for Temp variable
ds$Temp[which(ds$Temp<temp_lowerfence|ds$Temp>temp_upperfence)]
# The output shows the Wind variable has the outliers 20.1, 18.4 and 20.7 while the Temp variable does not have any outliers. 
```

## Q3d (8 points)
Compute the upper quartile of the `Wind` variable with two different methods.
HINT: Only show the upper quartile using indexing.
For the type of quartile, please see https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/quantile.
```{r}
# Insert your answer here.
# Upper quartile computation using method 1 (result is 11.75):
wind_upperquartile1<-quantile(ds[,3],probs=0.75,type=6)
wind_upperquartile1
```
```{r}
# Upper quartile computation using method 2 (result is also 11.75):
wind_sorted<-sort(ds$Wind)
wind_sorted
length(wind_sorted)
wind_upperquartile2_position<-0.75*(153+1)
wind_upperquartile2_position
wind_upperquartile2_a<-wind_sorted[115]
wind_upperquartile2_a
wind_upperquartile2_b<-wind_sorted[116]
wind_upperquartile2_b
wind_upperquartile2<-11.5+0.50*(12-11.5)
wind_upperquartile2
```

## Q3e (8 points)
Construct a pie chart to describe the number of entries by `Month`.
HINT: use the `table()` function to count and tabulate the number of entries within a `Month`.
```{r}
# Insert your answer here.
# First, tabulate the entries
table(airquality$Month)
```
```{r}
# Next, construct the pie chart
slices<-c(31,30,31,31,30)
pie_labels<-paste0(slices," = ",round(100*slices/sum(slices),2),"%")
pie(slices,labels=pie_labels,main="Air Quality Dataset: Number of Entries per Month",col=rainbow(length(slices)))
legend("topright",legend=c("Mo 5", "Mo 6","Mo 7","Mo 8","Mo 9"),cex=0.8,fill=rainbow(length(slices)))
```


END of Assignment #1.
